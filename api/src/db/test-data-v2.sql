-- 清空现有数据
DELETE FROM scores;
DELETE FROM exams;
DELETE FROM students;
DELETE FROM courses;
DELETE FROM classes;

-- 重置自增 ID (SQLite)
DELETE FROM sqlite_sequence WHERE name IN ('scores', 'exams', 'students', 'courses', 'classes');

-- 1. 插入班级 (Schema: name, grade, teacher_id)
INSERT INTO classes (name, grade) VALUES 
('一年级1班', 1),
('一年级2班', 1);

-- 2. 插入课程 (Schema: name, grade)
INSERT INTO courses (name, grade) VALUES 
('语文', 1),
('数学', 1),
('英语', 1),
('科学', 1);

-- 3. 插入学生 (一年级1班 - 10人，设计不同类型)
-- S1001: 学霸 (稳定高分)
-- S1002: 学渣 (稳定低分)
-- S1003: 中等生 (稳定中等)
-- S1004: 进步生 (分数一路走高)
-- S1005: 退步生 (分数一路走低)
-- S1006: 偏科生 (数学好，语文差)
-- S1007: 波动生 (分数忽高忽低)
-- S1008: 临界生 (及格线徘徊)
-- S1009: 普通学生A
-- S1010: 普通学生B
INSERT INTO students (name, student_id, class_id) VALUES 
('张学霸', 'S1001', 1),
('李学渣', 'S1002', 1),
('王中等', 'S1003', 1),
('赵进步', 'S1004', 1),
('钱退步', 'S1005', 1),
('孙偏科', 'S1006', 1),
('周波动', 'S1007', 1),
('吴临界', 'S1008', 1),
('郑普通', 'S1009', 1),
('冯普通', 'S1010', 1);

-- 4. 插入考试 (4次考试：月考1、期中、月考2、期末)
-- 语文 (Course 1)
INSERT INTO exams (name, course_id, class_id, exam_date, full_score) VALUES 
('语文第一次月考', 1, 1, '2024-09-30', 100),
('语文期中考试', 1, 1, '2024-11-15', 100),
('语文第二次月考', 1, 1, '2024-12-15', 100),
('语文期末考试', 1, 1, '2025-01-15', 100);

-- 数学 (Course 2)
INSERT INTO exams (name, course_id, class_id, exam_date, full_score) VALUES 
('数学第一次月考', 2, 1, '2024-09-30', 100),
('数学期中考试', 2, 1, '2024-11-15', 100),
('数学第二次月考', 2, 1, '2024-12-15', 100),
('数学期末考试', 2, 1, '2025-01-15', 100);

-- 英语 (Course 3)
INSERT INTO exams (name, course_id, class_id, exam_date, full_score) VALUES 
('英语第一次月考', 3, 1, '2024-09-30', 100),
('英语期中考试', 3, 1, '2024-11-15', 100),
('英语第二次月考', 3, 1, '2024-12-15', 100),
('英语期末考试', 3, 1, '2025-01-15', 100);

-- 科学 (Course 4)
INSERT INTO exams (name, course_id, class_id, exam_date, full_score) VALUES 
('科学第一次月考', 4, 1, '2024-09-30', 100),
('科学期中考试', 4, 1, '2024-11-15', 100),
('科学第二次月考', 4, 1, '2024-12-15', 100),
('科学期末考试', 4, 1, '2025-01-15', 100);

-- 5. 插入成绩
-- 辅助函数逻辑 (手动计算)

-- S1001 张学霸: 95-100
INSERT INTO scores (student_id, exam_id, score) VALUES 
(1, 1, 96), (1, 2, 98), (1, 3, 95), (1, 4, 99), -- 语文
(1, 5, 100), (1, 6, 99), (1, 7, 98), (1, 8, 100), -- 数学
(1, 9, 97), (1, 10, 96), (1, 11, 98), (1, 12, 99), -- 英语
(1, 13, 95), (1, 14, 97), (1, 15, 96), (1, 16, 98); -- 科学

-- S1002 李学渣: 30-50
INSERT INTO scores (student_id, exam_id, score) VALUES 
(2, 1, 45), (2, 2, 32), (2, 3, 40), (2, 4, 38),
(2, 5, 20), (2, 6, 25), (2, 7, 30), (2, 8, 28),
(2, 9, 50), (2, 10, 48), (2, 11, 45), (2, 12, 42),
(2, 13, 35), (2, 14, 30), (2, 15, 33), (2, 16, 36);

-- S1003 王中等: 70-80
INSERT INTO scores (student_id, exam_id, score) VALUES 
(3, 1, 75), (3, 2, 78), (3, 3, 72), (3, 4, 76),
(3, 5, 70), (3, 6, 75), (3, 7, 73), (3, 8, 78),
(3, 9, 80), (3, 10, 76), (3, 11, 75), (3, 12, 79),
(3, 13, 72), (3, 14, 74), (3, 15, 76), (3, 16, 75);

-- S1004 赵进步: 60 -> 70 -> 80 -> 90
INSERT INTO scores (student_id, exam_id, score) VALUES 
(4, 1, 62), (4, 2, 75), (4, 3, 82), (4, 4, 91),
(4, 5, 58), (4, 6, 68), (4, 7, 79), (4, 8, 88),
(4, 9, 65), (4, 10, 72), (4, 11, 85), (4, 12, 92),
(4, 13, 60), (4, 14, 70), (4, 15, 80), (4, 16, 90);

-- S1005 钱退步: 90 -> 80 -> 70 -> 60
INSERT INTO scores (student_id, exam_id, score) VALUES 
(5, 1, 92), (5, 2, 81), (5, 3, 72), (5, 4, 63),
(5, 5, 95), (5, 6, 85), (5, 7, 75), (5, 8, 65),
(5, 9, 88), (5, 10, 78), (5, 11, 68), (5, 12, 58),
(5, 13, 90), (5, 14, 80), (5, 15, 70), (5, 16, 60);

-- S1006 孙偏科: 数学95+, 语文50-
INSERT INTO scores (student_id, exam_id, score) VALUES 
(6, 1, 48), (6, 2, 52), (6, 3, 45), (6, 4, 55), -- 语文差
(6, 5, 98), (6, 6, 96), (6, 7, 99), (6, 8, 100), -- 数学好
(6, 9, 75), (6, 10, 72), (6, 11, 78), (6, 12, 76), -- 英语中等
(6, 13, 85), (6, 14, 88), (6, 15, 82), (6, 16, 86); -- 科学良

-- S1007 周波动: 60 -> 90 -> 50 -> 85
INSERT INTO scores (student_id, exam_id, score) VALUES 
(7, 1, 65), (7, 2, 92), (7, 3, 55), (7, 4, 88),
(7, 5, 60), (7, 6, 85), (7, 7, 58), (7, 8, 90),
(7, 9, 70), (7, 10, 95), (7, 11, 62), (7, 12, 85),
(7, 13, 68), (7, 14, 88), (7, 15, 52), (7, 16, 82);

-- S1008 吴临界: 58-62
INSERT INTO scores (student_id, exam_id, score) VALUES 
(8, 1, 59), (8, 2, 61), (8, 3, 58), (8, 4, 60),
(8, 5, 62), (8, 6, 59), (8, 7, 60), (8, 8, 58),
(8, 9, 60), (8, 10, 62), (8, 11, 59), (8, 12, 61),
(8, 13, 58), (8, 14, 60), (8, 15, 62), (8, 16, 59);

-- S1009 郑普通: 随机 70-90
INSERT INTO scores (student_id, exam_id, score) VALUES 
(9, 1, 82), (9, 2, 75), (9, 3, 88), (9, 4, 79),
(9, 5, 85), (9, 6, 72), (9, 7, 81), (9, 8, 76),
(9, 9, 78), (9, 10, 84), (9, 11, 73), (9, 12, 86),
(9, 13, 80), (9, 14, 77), (9, 15, 83), (9, 16, 74);

-- S1010 冯普通: 随机 65-85
INSERT INTO scores (student_id, exam_id, score) VALUES 
(10, 1, 68), (10, 2, 82), (10, 3, 75), (10, 4, 70),
(10, 5, 72), (10, 6, 78), (10, 7, 69), (10, 8, 81),
(10, 9, 76), (10, 10, 70), (10, 11, 83), (10, 12, 67),
(10, 13, 74), (10, 14, 79), (10, 15, 71), (10, 16, 80);
